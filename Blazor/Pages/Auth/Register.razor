@page "/register"
@using BlazorBootstrap


<PageTitle>Register</PageTitle>

<div class="container">
	<div class="col-md-8">
		<div class="form d-flex flex-column flex-wrap p-3 p-md-5">

			<div class="custom-header">Welcome!</div>
			<div class="custom-header fs-3 mb-3">Create an account to see and manage your bookings</div>

			<EditForm Model="_registerModel" OnValidSubmit="HandleRegister">
				<DataAnnotationsValidator />

				<div class="floating-label-group m-3 my-md-4">
					<InputText id="input-field-email"
							   @bind-Value="_registerModel.Email"
							   class="form-control"
							   placeholder=" " />
					<label class="floating-label" for="input-field-email">Email</label>
					<ValidationMessage For="@(() => _registerModel.Email)" />
				</div>

				<div class="floating-label-group m-3 my-md-4">
					<InputText id="input-field-username"
							   @bind-Value="_registerModel.Username"
							   class="form-control"
							   placeholder=" " />
					<label class="floating-label" for="input-field-username">Username</label>
					<ValidationMessage For="@(() => _registerModel.Username)" />
				</div>

				<div class="floating-label-group m-3 my-md-4">
					<InputText id="input-field-password"
							   @bind-Value="_registerModel.Password"
							   class="form-control"
							   placeholder=" "
							   Type="password" />
					<label class="floating-label" for="input-field-password">Password</label>
					<ValidationMessage For="@(() => _registerModel.Password)" />
				</div>
				<div class="floating-label-group m-3 my-md-4">
					<InputText id="input-field-confirm-password"
							   @bind-Value="_registerModel.ConfirmPassword"
							   class="form-control"
							   placeholder=" "
							   Type="password" />
					<label class="floating-label" for="input-field-confirm-password">Confirm Password</label>
					<ValidationMessage For="@(() => _registerModel.ConfirmPassword)" />
				</div>
				<Button class="btn btn-custom text-white px-3 px-md-5 py-2 mt-2 mt-md-5 mx-3 fw-bolder fs-4" 
				Type="ButtonType.Submit">Register</Button>

			</EditForm>
			@if (!string.IsNullOrEmpty(_errorMessage))
			{
				<div class="alert alert-danger">@_errorMessage</div>
			}
		</div>
	</div>
</div>
